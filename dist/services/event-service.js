<<<<<<< HEAD
class EventService{constructor(){this.defaultPage="events"}init(){this.renderEvent()}renderEvent=e=>{const t=document.querySelector(".event-modal-wrapper"),a=document.querySelector(".add-event-modal"),d=document.querySelector(".add-event-modal .form"),l=document.querySelector(".edit-event-modal"),n=document.querySelector(".edit-event-modal .form"),o=document.querySelector(".event__list"),i=db.collection("events"),c=document.querySelector(".btn-add.add-event");let s;const r=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],v=["Jan","Feb","Mar","Apr","Mai","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],u=e=>{const t=e.data(),a=new Date(t.date),d=`${r[a.getDay()]} ${a.getDate()}.${v[a.getMonth()]} ${a.getFullYear()}`;console.log(a);const c=`\n\t\t\t\t<div class="card event__item" data-id='${e.id}'>\n\t\t\t\t\t<h4 class='card-title'>${t.title}</h4>\n\t\t\t\t\t<p class='card-description'>${t.description}</p>\n\t\t\t\t\t<p class='card-location'>${t.location}</p>\n\t\t\t\t\t<p class='card-date'> ${d}</p>\n\t\t\t\t\t<div>${t.assign}</div>\n\t\t\t\t\t<div>${t.label}</div>\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<button class="btn btn-edit edit-event">Edit</button>\n\t\t\t\t\t\t<button class="btn btn-delete delete-event">Delete</button>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t`;o.insertAdjacentHTML("beforeend",c);document.querySelector(`[data-id='${e.id}'] .edit-event`).addEventListener("click",(()=>{l.classList.add("modal-show"),s=e.id,n.title.value=t.title,n.description.value=t.description,n.location.value=t.location,n.date.value=t.date,n.assign.value=t.assign,n.label.value=t.label}));document.querySelector(`[data-id='${e.id}'] .delete-event`).addEventListener("click",(()=>{i.doc(`${e.id}`).delete().then((()=>{console.log("Document succesfully deleted!")})).catch((e=>{console.log("Error removing document",e)}))}))};c.addEventListener("click",(()=>{a.classList.add("modal-show"),d.title.value="",d.description.value="",d.location.value="",d.date.value="",d.assign.value="",d.label.value=""})),window.addEventListener("click",(e=>{e.target===a&&a.classList.remove("modal-show"),e.target===l&&l.classList.remove("modal-show")})),i.onSnapshot((e=>{e.docChanges().forEach((e=>{if("added"===e.type&&u(e.doc),"removed"===e.type){let t=document.querySelector(`[data-id='${e.doc.id}']`);t.parentElement.removeChild(t)}if("modified"===e.type){let t=document.querySelector(`[data-id='${e.doc.id}']`);t.parentElement.removeChild(t),u(e.doc)}}))})),d.addEventListener("submit",(e=>{e.preventDefault(),i.add({title:d.title.value,description:d.description.value,location:d.location.value,date:d.date.value,assign:d.assign.value,label:d.label.value}),t.classList.remove("modal-show")})),n.addEventListener("submit",(e=>{e.preventDefault(),i.doc(s).update({title:n.title.value,description:n.description.value,location:n.location.value,date:n.date.value,assign:n.assign.value,label:n.label.value}),l.classList.remove("modal-show")}))}}const eventService=new EventService;export default eventService;
=======
class EventService{constructor(){this.defaultPage="events"}init(){this.renderEvents()}renderEvents=e=>{const t=document.querySelector(".event-modal-wrapper"),d=document.querySelector(".add-event-modal"),a=document.querySelector(".add-event-modal .form"),n=document.querySelector(".edit-event-modal"),l=document.querySelector(".edit-event-modal .form"),i=document.querySelector(".event__list"),o=db.collection("events"),c=document.querySelector(".btn-add.add-event");let s;const v=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],r=["Jan","Feb","Mar","Apr","Mai","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],u=e=>{const t=e.data(),d=new Date(t.date),a=`${v[d.getDay()]} ${d.getDate()}.${r[d.getMonth()]} ${d.getFullYear()}`,c=`\n\t\t\t\t<div class="event__item" data-id='${e.id}'>\n\t\t\t\t\t<div>${t.title}</div>\n\t\t\t\t\t<div>${t.description}</div>\n\t\t\t\t\t<div>${t.location}</div>\n\t\t\t\t\t<div>${a}</div>\n\t\t\t\t\t<div>${t.assign}</div>\n\t\t\t\t\t<div>${t.label}</div>\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<button class="btn btn-edit edit-event">Edit</button>\n\t\t\t\t\t\t<button class="btn btn-delete delete-event">Delete</button>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t`;i.insertAdjacentHTML("beforeend",c);document.querySelector(`[data-id='${e.id}'] .edit-event`).addEventListener("click",(()=>{n.classList.add("modal-show"),s=e.id,l.title.value=t.title,l.description.value=t.description,l.location.value=t.location,l.date.value=t.date,l.assign.value=t.assign,l.label.value=t.label}));document.querySelector(`[data-id='${e.id}'] .delete-event`).addEventListener("click",(()=>{o.doc(`${e.id}`).delete().then((()=>{console.log("Document succesfully deleted!")})).catch((e=>{console.log("Error removing document",e)}))}))};c.addEventListener("click",(()=>{d.classList.add("modal-show"),a.title.value="",a.description.value="",a.location.value="",a.date.value="",a.assign.value="",a.label.value=""})),window.addEventListener("click",(e=>{e.target===d&&d.classList.remove("modal-show"),e.target===n&&n.classList.remove("modal-show")})),o.onSnapshot((e=>{e.docChanges().forEach((e=>{if("added"===e.type&&u(e.doc),"removed"===e.type){let t=document.querySelector(`[data-id='${e.doc.id}']`);t.parentElement.removeChild(t)}if("modified"===e.type){let t=document.querySelector(`[data-id='${e.doc.id}']`);t.parentElement.removeChild(t),u(e.doc)}}))})),a.addEventListener("submit",(e=>{e.preventDefault(),o.add({title:a.title.value,description:a.description.value,location:a.location.value,date:a.date.value,assign:a.assign.value,label:a.label.value}),t.classList.remove("modal-show")})),l.addEventListener("submit",(e=>{e.preventDefault(),o.doc(s).update({title:l.title.value,description:l.description.value,location:l.location.value,date:l.date.value,assign:l.assign.value,label:l.label.value}),n.classList.remove("modal-show")}))}}const eventService=new EventService;export default eventService;
>>>>>>> fdd98d012aa2d40663ce78f359df8f9499aa800d
//# sourceMappingURL=event-service.js.map